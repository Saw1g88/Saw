[General]
# Internet æµ‹è¯• URL
internet-test-url = http://www.apple.com/library/test/success.html
# ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 2
# è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
# ç¦ç”¨ GeoIP æ•°æ®åº“æ›´æ–°
disable-geoip-db-auto-update = false
# å…è®¸ Wi-Fi è®¿é—® (ä»… iOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œfalseã€æ”¹ä¸ºã€Œtrueã€)
allow-wifi-access = false
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# å…è®¸ä¸ªäººçƒ­ç‚¹è®¿é—®
allow-hotspot-access = false
# ç»•è¿‡ä»£ç†
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local
# æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true
# DNS æœåŠ¡å™¨
dns-server = 223.5.5.5, 114.114.114.114
# encrypted-dns-server = quic://223.5.5.5:853, quic://223.6.6.6:853
# ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true
# DNS åŠ«æŒ
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# å½“æœåŠ¡å™¨ä¸æ”¯æŒ UDP Relay æ—¶çš„ UDP è¡Œä¸ºè®¾ç½®
udp-policy-not-supported-behaviour = REJECT
# éšè— VPN å›¾æ ‡
hide-vpn-icon = false
# å¼ºè¡Œå…³é—­å¯¹ç‰¹å®šä¸»æœºåçš„ä¸»åŠ¨åè®®æ¢æµ‹
always-raw-tcp-hosts = www.google.com, 91.108.*, 5.28.195.*, 149.154.1*, 185.76.151.*, 91.105.1*
# IPv6 æ”¯æŒ
ipv6 = false
# IPv6 VIF
ipv6-vif = auto
# ä¼˜å…ˆå¤„ç† UDP æ•°æ®åŒ…
udp-priority = false

[Proxy]
Direct = direct
Reject = reject

[Proxy Group]
# --------------åˆ†æµç­–ç•¥---------------#
Proxy = select, Hong Kong, Taiwan, Japan, Singapore, United States, no-alert=0, hidden=0, include-all-proxies=1, policy-regex-filter="^(?!.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\d{0,2}\b)| ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\d{0,2}\b)|ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)\d{0,2}\b)|ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\d{0,2}\b)|ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)\d{0,2}\b) |(æ³•å›½|æ³•|å·´é»|FR|France)|(è‹±å›½|è‹±|ä¼¦æ•¦|UK|GB|GBR|England|United Kingdom)|(éŸ©å›½|éŸ©|éŸ“|é¦–å°”|KR|KOR|Korea)|(é©¬æ¥è¥¿äºš|é©¬æ¥|å¤§é©¬|MY|Malaysia)|(å¾·å›½|æ³•å…°å…‹ç¦|DE|Germany)|(æ³°å›½|æ³°|æ›¼è°·|TH|Thailand)|(è·å…°|è·|å°¼å¾·å…°|é˜¿å§†æ–¯ç‰¹ä¸¹|NL|Netherlands)))", include-other-group=SubStore_EN
Telegram = select, Hong Kong, Taiwan, Japan, Singapore, United States, Proxy, no-alert=0, hidden=0, include-all-proxies=0
OpenAI = select, Hong Kong, Taiwan, Japan, Singapore, United States, Proxy, no-alert=0, hidden=0, include-all-proxies=0
Final = select, Hong Kong, Taiwan, Japan, Singapore, United States, Proxy, no-alert=0, hidden=0, include-all-proxies=0
# --------------èŠ‚ç‚¹ç­–ç•¥---------------#
Hong Kong = url-test, policy-regex-filter="^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\d{0,2}\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$", no-alert=1, interval=600, hidden=1, include-all-proxies=0, include-other-group=SubStore_EN
Taiwan = url-test, policy-regex-filter="^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\d{0,2}\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$", no-alert=1, hidden=1, include-all-proxies=0, include-other-group=SubStore_EN
Japan = url-test, policy-regex-filter="^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)\d{0,2}\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$", no-alert=1, interval=600, hidden=1, include-all-proxies=0, include-other-group=SubStore_EN
Singapore = url-test, policy-regex-filter="^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\d{0,2}\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$", no-alert=1, interval=600, hidden=1, include-all-proxies=0, include-other-group=SubStore_EN
United States = url-test, policy-regex-filter="^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)\d{0,2}\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$", no-alert=1, interval=600, hidden=1, include-all-proxies=0, include-other-group=SubStore_EN
# --------------æœºåœºè®¢é˜…---------------#
AirPort = select, policy-path=è®¢é˜…é“¾æ¥, update-interval=259200, no-alert=0, hidden=1, include-all-proxies=0, policy-regex-filter="^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|ğŸ®|(\b(GAME|USE|USED|TOTAL|EXPIRE|EMAIL|Panel)\d{0,2}\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$"
SubStore_EN = select, policy-path=è®¢é˜…é“¾æ¥, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0
SubStore_CH = select, policy-path=è®¢é˜…é“¾æ¥, update-interval=0, no-alert=0, hidden=1, include-all-proxies=0

[Rule]
AND,((PROTOCOL,UDP), (OR,((DOMAIN-SUFFIX,googlevideo.com), (DOMAIN-SUFFIX,gvt1.com), (DOMAIN-SUFFIX,cdninstagram.com)))),REJECT-NO-DROP
RULE-SET,https://raw.githubusercontent.com/Saw1g88/Saw/main/Rule/Reject.list,Reject,update-interval=-1,no-resolve
RULE-SET,https://raw.githubusercontent.com/Saw1g88/Saw/main/Rule/CN.list,Direct,update-interval=-1,no-resolve
RULE-SET,https://raw.githubusercontent.com/Saw1g88/Saw/main/Rule/Telegram.list,Telegram,update-interval=-1,no-resolve
RULE-SET,https://raw.githubusercontent.com/Saw1g88/Saw/main/Rule/OpenAI.list,OpenAI,update-interval=-1,no-resolve
RULE-SET,https://raw.githubusercontent.com/Saw1g88/Saw/main/Rule/US.list,United States,update-interval=-1,no-resolve
RULE-SET,https://raw.githubusercontent.com/Saw1g88/Saw/main/Rule/Proxy.list,Proxy,update-interval=-1,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Proxy/Proxy_All_No_Resolve.list,Proxy,update-interval=604800,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/China/China_All_No_Resolve.list,Direct,update-interval=604800,no-resolve
IP-CIDR,0.0.0.0/32,Reject,no-resolve
RULE-SET,LAN,Direct
DOMAIN-SUFFIX,cn,Direct
GEOIP,CN,Direct
FINAL,Final,dns-failed

[URL Rewrite]
^(http|https):\/\/(www.)?(g|google)\.cn https://www.google.com 307

[MITM]
h2 = true
hostname = %APPEND% www.g.cn, www.google.cn
